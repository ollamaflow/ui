<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OllamaFlow API Explorer</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <img src="assets/logo.png" alt="OllamaFlow Logo" class="logo">
            <h1>OllamaFlow API Explorer</h1>
        </header>

        <div class="config-section">
            <div class="config-header">
                <h2>Settings</h2>
                <button class="collapse-toggle" aria-label="Toggle settings visibility">
                    <svg class="collapse-icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                    </svg>
                </button>
            </div>
            <div class="config-content">
                <div class="config-url-row">
                    <div class="config-item">
                        <label for="base-url">Base URL</label>
                        <input type="text" id="base-url" placeholder="http://localhost:43411/api/chat" value="http://localhost:43411/api/chat">
                    </div>
                    <div class="config-checkbox">
                        <label for="stream-toggle">
                            <input type="checkbox" id="stream-toggle" checked>
                            Enable Streaming
                        </label>
                    </div>
                </div>
                <div class="config-grid">
                    <div class="config-item">
                        <label for="api-type">Request Format</label>
                        <select id="api-type">
                            <option value="ollama">Ollama</option>
                            <option value="openai">OpenAI</option>
                        </select>
                    </div>
                    <div class="config-item">
                        <label for="request-type">Request Type</label>
                        <select id="request-type">
                            <option value="chat">Generate chat completion</option>
                            <option value="generate">Generate completion</option>
                            <option value="pull">Pull model</option>
                            <option value="list">List models</option>
                            <option value="delete">Delete model</option>
                            <option value="ps">List running models</option>
                            <option value="embeddings">Generate embeddings (single)</option>
                            <option value="embed">Generate embeddings (batch)</option>
                        </select>
                    </div>
                    <div class="config-item">
                        <label for="model-name">Model</label>
                        <input type="text" id="model-name" placeholder="llama2" value="llama2">
                    </div>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="left-panel">
                <div class="section">
                    <h2>Request Body</h2>
                    <textarea id="request-body" spellcheck="false"></textarea>
                </div>
                <div class="button-group">
                    <button id="send-button" class="send-button">Send Request</button>
                    <button id="stop-button" class="stop-button" disabled>Stop</button>
                </div>
            </div>

            <div class="right-panel">
                <div class="section">
                    <h2>Response</h2>
                    <div class="tabs">
                        <button class="tab-button active" data-tab="preview">Preview</button>
                        <button class="tab-button" data-tab="body">Body</button>
                        <button class="tab-button" data-tab="headers">Headers</button>
                        <button class="tab-button" data-tab="status">Status</button>
                    </div>
                    <div class="tab-content">
                        <div id="tab-preview" class="tab-pane active">
                            <div id="response-preview" class="response-display"></div>
                        </div>
                        <div id="tab-body" class="tab-pane">
                            <div id="response-body" class="response-display"></div>
                        </div>
                        <div id="tab-headers" class="tab-pane">
                            <pre id="response-headers" class="response-display"></pre>
                        </div>
                        <div id="tab-status" class="tab-pane">
                            <div id="response-status" class="response-display"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="script.js"></script>
</body>
</html>